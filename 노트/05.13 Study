â“ API(resolvers, Model) â“• Function â“œ Model â“¡ resolvers   â“¤ Util File 
ì˜¤ëŠ˜ ë‚´ìš© ì´ ì •ë¦¬
- 1. Prismaì™€ Grraphqlì€ ì„œë¡œ í˜¸í™˜ì„±ì´ ë‹¬ë¼ì„œ, ìƒˆë¡œíŒŒì¼ì„ ìƒì„±í•´ì¤˜ì•¼ í•œë‹¤.
    â“œ models.graphql

- 2. â“ createAccountë¥¼ í†µí•´ì„œ ì‚¬ìš©ì ìƒì„± ê´€ë ¨ APIë¥¼ ë¨¼ì € ë§Œë“¤ì–´ì¤€ë‹¤. 
    - ğŸ‘ ì£¼ì˜ ì‚¬í•­ 1 ğŸ‘ : â“œ datamodel.prisma, models.graphqlì˜ loginSecretì˜ typeì—ì„œ requiredì¸ !ë¥¼ ë¹¼ì¤˜ì•¼í•œë‹¤.
    - ğŸ‘ ì£¼ì˜ ì‚¬í•­ 2 ğŸ‘ : modelì—ì„œ @unique ì„¤ì • í•´ì¤€ ê²ƒë§Œì´, whereì˜ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥ í•˜ë‹¤.
    - ğŸ‘ ì£¼ì˜ ì‚¬í•­ 3 ğŸ‘ : requiredê°€ ì •ì˜ ë˜ì§€ ì•Šì€ ê²½ìš° nullì´ë‚˜ undefinedê°€ ë“¤ì–´ì˜¤ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´ resolverì— ë¹ˆ ë¬¸ìì—´ì„ ë„£ì–´ë†“ëŠ”ë‹¤. 
        ğŸ¨ ì™„ì„±!

- 3. â“¤ Utils.jsì˜ â“• generateSecretëŠ” words.jsì˜ ë‹¨ì–´ ë°°ì—´ì˜ ëœë¤í•œ ë°°ì—´ê°’ì˜ ìŒìœ¼ë¡œ ëœë¤í•œ secret keyë¥¼ ìƒì„±í•´ì¤€ë‹¤.
    - ğŸ˜² ê¿€íŒ ! ğŸ˜² :  alt + shift + Drag&Dropìœ¼ë¡œ ì „ ë‹¨ì–´ë¥¼ ë¸”ë¡ ì¡ê³ , í•œë²ˆì— ""ì™€ ,ë¥¼ ë¶™ì—¬ì¤€ë‹¤.

- 4. ì‚¬ìš©ìë³„ Secret Codeë¥¼ í• ë‹¹í•´ì¤„ ìˆ˜ ìˆê²Œ â“ requsetSecretë¥¼ ì •ì˜ í•´ì¤ë‹ˆë‹¤.
    - â–¶ï¸ â“œ requestSecret Modelì— [3] ì—ì„œ ë§Œë“  â“• generateSecret í•¨ìˆ˜ë¥¼ í• ë‹¹í•´ì„œ loginSecretê°’ì„ ë§Œë“¤ì–´ì¤€ë‹¤.

- 5. ì‚¬ìš©ìì—ê²Œ ì´ë©”ì¼ë¡œ secret Code ë°œì†¡ì„ ìœ„í•´, ëª¨ë“ˆì„ ì„¤ì¹˜í•´ì¤ë‹ˆë‹¤.( â–¶ nodemailer, nodemailer-sendgrid-transport)  
    - ğŸ€ utils.js íŒŒì¼ì— ì„¤ì¹˜í•œ ëª¨ë“ˆì„ import í•´ì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‘ê°€ì§€ì˜ í•¨ìˆ˜ë¥¼ ìƒì„± í•´ì¤ë‹ˆë‹¤.
        (â–¶ sendMail(ë©”ì¼ ì „ì†¡ ê³„ì • ì„¤ì • ë° ì „ì†¡ ), sendSecretMail(ë©”ì¼ ë‚´ìš© ì„¤ì • ë° sendMailì— ì¸ì ê°’ ì „ë‹¬) â—€)

- 6. [4] ë²ˆì—ì„œ ì„¤ëª…ë“œë¦° â“¡ requestSecretì—ëŠ” â“• sendSecretMailì„ í†µí•´ ì´ë©”ì¼ì„ ë³´ë‚´ì£¼ê³ , updateUserë¡œ í•´ë‹¹ Userì— loginSecretê°’ì„ ë³€ê²½í•´ì¤€ë‹¤. ê·¸ë¦¬ê³  Trueë°˜í™˜
    6.1 - ì—ëŸ¬ì‹œì— consoleì—ëŸ¬ ì¶œë ¥ ë° falseë¥¼ return í•´ì¤€ë‹¤.

- 7. ì´ì œ secret ì½”ë“œ ê°’ê³¼ updateëœ userì˜ login secretì½”ë“œë¥¼ ë§ì¶°ë³´ëŠ” â“ confirmSecret ë¥¼ ìƒì„±í•œë‹¤.
 - confirmSecretì„ í†µí•´ ë„˜ì–´ì˜¨ secretì½”ë“œê°€ ì €ì¥ëœ secretê³¼ ë™ì¼í•˜ë‹¤ë©´ í† í°ì„ ë°œí–‰í•´ì£¼ëŠ” resolversë¥¼ ì§ ë‹¤.
    - ğŸº í† í°ì„ ë°œí–‰í•˜ê¸° ìœ„í•´ì„œëŠ” passport ëª¨ë“ˆê³¼ passport-jwt ëª¨ë“ˆì´ í•„ìš”í•˜ë‹¤.
    - passport-jwtì˜ readmeë¥¼ ë³´ê³  ë”°ë¼ì„œ ì‘ì„±ì„ í•´ì¤€ë‹¤. ğŸ’– secretì€ passport ì •ë³´ë¥¼ ì•”í˜¸í™”í•´ì„œ ì €ì¥í•˜ê¸° ìœ„í•œ ê²ƒ.
    - .env íŒŒì¼ì— JWT_SECRETì„ ì‘ì„±í•´ì¤€ë‹¤.

- 8. utils.js íŒŒì¼ì— jsonwebtoken ëª¨ë“ˆì„ ì„¤ì¹˜í•˜ê³  import í•´ì¤€ë‹¤.
    - â“• generateToken í•¨ìˆ˜ ìƒì„± ê·¸ ì•ˆì— ì„¤ì¹˜í•œ ëª¨ë“ˆì„ ì´ìš©í•´ì„œ ì•”í˜¸í™”ëœ í† í°ì„ ìƒì„±í•´ì¤€ë‹¤.

- 9. confirmSecret resolverì•ˆì— í† í° ë°œí–‰ í•¨ìˆ˜ ë¶€ë¶„ì— generateTokenì„ ë„£ì–´ì„œ ë¦¬í„´í•´ì¤€ë‹¤.





 {"Authorization": "Bearer [Token]"}
